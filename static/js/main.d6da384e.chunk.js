(this.webpackJsonpemp_list=this.webpackJsonpemp_list||[]).push([[0],{46:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s(0),c=s.n(n),a=s(17),i=s.n(a),o=(s(46),s(12)),l=s(3),h=s(9),d=s(16),u=s.n(d),j=s(23),b="GET_EMPLOYEES",p="CREATE_ABC_SORTED_LIST",m="CREATE_MONTH_SORTED_LIST",y="EMPLOYEES_ERROR ",O="CLEAR_EMPLOYEES",f="SET_SHOWBIRTHDAY",x=" CREATE_SHOWBIRTHDAY_LIST",g=s(36),v=s.n(g),S=function(e){var t,s=JSON.parse(localStorage.getItem("employees"));t=null===localStorage.getItem("showBirthdayInfo")?[]:JSON.parse(localStorage.getItem("showBirthdayInfo"));var r=s.find((function(t){return t.id===e.id}));r.showBirthday=e.showBirthday,t.find((function(e){return e.id===r.id}))?t=t.filter((function(e){return e.id!==r.id})):t.push(r),localStorage.setItem("showBirthdayInfo",JSON.stringify(t))},E=function(e){var t,s=JSON.parse(localStorage.getItem("showBirthdayInfo"));if(null!==s&&s.length>0&&(t=s.find((function(t){return t.id===e.id}))),t)return!0},N=function(){return function(e){try{var t=JSON.parse(localStorage.getItem("showBirthdayInfo"));e({type:x,payload:t})}catch(s){console.error(s.message)}}};var w=function(e){var t=e.logo,s=e.icon,n=e.clearEmployees;return Object(r.jsxs)("nav",{className:"nav bg-primary",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsxs)(o.b,{to:"/emp_list",onClick:function(){return n()},children:[" ",Object(r.jsx)("i",{className:s})," ",t]})}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/employees",children:"Employees"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/about",children:"About"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/IgorNep/emp_list",target:"_blank",rel:"noreferrer",children:"Github"})})]})]})};w.defaultProps={logo:"Employees List",icon:"fa fa-users"};var B=Object(h.b)(null,{clearEmployees:function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:O})}catch(s){t({type:y,payload:s.message})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(w),I=function(){return Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"80vh"},children:[Object(r.jsxs)("h1",{children:[Object(r.jsx)("span",{className:"text-primary",children:"Hello!"})," This is home page"]}),Object(r.jsx)("p",{className:"my-2",children:"Press button to show list of employees"}),Object(r.jsx)("p",{children:Object(r.jsx)(o.b,{to:"/emp_list/employees",className:"btn btn-primary",children:"Employees"})})]})},L=s.p+"static/media/spinner.223e1344.gif",A=function(){return Object(r.jsx)(n.Fragment,{children:Object(r.jsx)("img",{src:L,alt:"Loading",style:{width:"200px",margin:"auto",display:"block"}})})},_=s(39),M=Object(h.b)(null,{changeUsersShowBirthday:function(e){return function(t){var s=new Date(e.dob).getMonth();try{t({type:f,payload:{user:e,index:s}}),S(e)}catch(r){console.error(r.message)}}},getShowBirthdayInfo:N})((function(e){var t=e.user,s=e.changeUsersShowBirthday,c=e.getShowBirthdayInfo,a=Object(n.useState)(t.showBirthday),i=Object(_.a)(a,2),o=i[0],l=i[1];return Object(r.jsxs)("div",{className:"bigbox",children:[Object(r.jsxs)("label",{htmlFor:t.id,children:[t.lastName," ",t.firstName," "]}),Object(r.jsx)("input",{id:t.id,type:"checkbox",value:o,checked:o,onChange:function(){t.showBirthday=!o,s(t),l(!o),c()}})]})})),T=Object(h.b)((function(e){return{abcSortedList:e.lists.abcSortedList}}),{sortEmployeesByAbc:function(e){return function(t){try{var s=[];"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach((function(t){var r={title:t,employeesAbc:[]};s.push(r),e.forEach((function(e){e.lastName.charAt(0)===r.title&&r.employeesAbc.push(e)}))})),t({type:p,payload:s})}catch(r){console.error(r.message)}}}})((function(e){var t=e.employees,s=e.sortEmployeesByAbc,c=e.abcSortedList;return Object(n.useEffect)((function(){s(t)}),[s,t]),Object(r.jsxs)("div",{className:"emp-data",children:[Object(r.jsx)("h2",{children:"Employees"}),Object(r.jsx)("div",{className:"line"}),Object(r.jsxs)("div",{className:"emp-abc",children:[c&&c.map((function(e){return Object(r.jsxs)("div",{className:"emp-item",children:[Object(r.jsx)("h3",{className:"abc-title",children:e.title}),Object(r.jsx)("div",{children:0===e.employeesAbc.length?"----":e.employeesAbc.map((function(e){return Object(r.jsx)(M,{user:e},e.id)}))})]},e.title)}))," "]})]})})),D=function(e){var t=e.users,s=function(e){var t=new Date(e);return t.getDay()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+", "+t.getFullYear()+" year"};return Object(r.jsx)(n.Fragment,{children:t.map((function(e){return Object(r.jsxs)("p",{children:[e.lastName," ",e.firstName," - ",s(e.dob)]},e.id)}))})},J=function(e){var t=e.month;return Object(r.jsx)(n.Fragment,{children:t.users&&t.users.length>0&&Object(r.jsxs)("div",{className:"emp-birthday-item",children:[Object(r.jsxs)("h4",{children:[t.title," "]}),Object(r.jsx)("div",{className:"emp-birthday-list",children:Object(r.jsx)(D,{users:t.users},t.id)})]})})},R=Object(h.b)((function(e){return{lists:e.lists}}),{sortEmployeesByMonth:function(e){return function(t){var s=["January","February","March","April","May","June","July","August","September","October","November","December"];try{var r=[];s.forEach((function(e,t){var s={id:t,title:e,users:[]};r.push(s)})),e.forEach((function(e){if(e.showBirthday){var t=new Date(e.dob).getMonth();r[t].users.push(e)}})),t({type:m,payload:r})}catch(n){console.error(n.message)}}},getShowBirthdayInfo:N})((function(e){var t=e.lists,s=t.monthSortedList,c=t.showBirthdayList,a=e.employees,i=e.sortEmployeesByMonth,o=e.getShowBirthdayInfo;return Object(n.useEffect)((function(){i(a),o()}),[i,a,o]),Object(r.jsxs)("div",{className:"emp-birthday",children:[Object(r.jsx)("h2",{children:"Employees birthday"}),Object(r.jsx)("div",{className:"line"}),Object(r.jsx)("div",{className:"birthday-block",children:s&&null!==c&&c.length>0?s.map((function(e){return Object(r.jsx)(J,{month:e},e.id)})):Object(r.jsx)("h4",{children:"No selected employees"})})]})})),k=Object(h.b)((function(e){return{lists:e.lists}}),{getEmployees:function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 3:s=e.sent,r=[],s.data.forEach((function(e){E(e)?e.showBirthday=!0:e.showBirthday=!1,r.push(e)})),localStorage.setItem("employees",JSON.stringify(r)),t({type:b,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:y,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getEmployees,s=e.lists,c=s.loading,a=s.employees;return Object(n.useEffect)((function(){t()}),[t]),Object(r.jsx)("div",{className:"my-2",children:c?Object(r.jsx)(A,{}):Object(r.jsxs)("div",{className:"employees",children:[Object(r.jsx)(T,{employees:a}),Object(r.jsx)(R,{employees:a})]})})})),C=function(){return Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"80vh"},children:[Object(r.jsxs)("h1",{children:[Object(r.jsx)("span",{className:"text-primary",children:"404"})," Not Found"]}),Object(r.jsx)("p",{children:"Sorry this page does not exist"})]})},F=function(){return Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"80vh"},children:[Object(r.jsx)("h1",{children:Object(r.jsx)("span",{className:"text-primary",children:"About"})}),Object(r.jsx)("p",{children:"Simple application for display birthday's of employees"}),Object(r.jsx)("p",{children:"Version 1.0.0"})]})},H=s(11),Y=s(37),P=s(38),W=s(40),G=s(8),U={employees:[],loading:!0,error:null,abcSortedList:[],monthSortedList:[],showBirthdayList:[]},V=Object(H.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,s=t.payload,r=t.type;switch(r){case b:return Object(G.a)(Object(G.a)({},e),{},{employees:s,loading:!1});case p:return Object(G.a)(Object(G.a)({},e),{},{abcSortedList:s,loading:!1});case m:return Object(G.a)(Object(G.a)({},e),{},{monthSortedList:s,loading:!1});case O:return{employees:[],loading:!1,error:null};case y:return Object(G.a)(Object(G.a)({},e),{},{error:s,loading:!1});case f:return Object(G.a)(Object(G.a)({},e),{},{monthSortedList:[].concat(Object(W.a)(e.monthSortedList),[s.user.showBirthday?e.monthSortedList[s.index].users.push(s.user):e.monthSortedList[s.index].users=e.monthSortedList[s.index].users.filter((function(e){return e.id!==s.user.id}))]),loading:!1});case x:return Object(G.a)(Object(G.a)({},e),{},{showBirthdayList:s,loading:!1});default:return e}}}),K=[Y.a],Q=Object(H.createStore)(V,{},Object(P.composeWithDevTools)(H.applyMiddleware.apply(void 0,K))),X=function(){return Object(r.jsx)(h.a,{store:Q,children:Object(r.jsxs)(o.a,{basename:"/emp_list",children:[Object(r.jsx)(B,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/emp_list",component:I})," ",Object(r.jsx)(l.a,{exact:!0,path:"/employees",component:k}),Object(r.jsx)(l.a,{exact:!0,path:"/about",component:F}),Object(r.jsx)(l.a,{component:C})]})})]})})};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(X,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d6da384e.chunk.js.map